#### 项目描述
这是一个爬取sge.com.cn的上海黄金交易所Au99.99收盘价格的爬虫，一个scrapy项目。

#### 依赖
建立的环境是Python 3.5.2 ，Scrapy 1.4.0 。

#### 运行
安装scrapy后进入项目所在目录起点
运行 `scrapy crawl getGPspider`
爬取结束后数据存储于当前目录下的`items.jl`

#### 非scrapy自建立文件描述
`sort.py`、`sorted.jl`、`单个网页爬去测试代码`

`sort.py`是用来给爬取所得数据文件`items.jl`进行排序的，它将生成按时间排序的数据文件`sorted.jl`

`单个网页爬去测试代码`里记录着方便调试使用的脚本代码。

#### 给开发者的话
本爬虫继承自scrapy的基本爬虫类CrawlSpider。
我主要自定义了两部分：爬取列表`start_urls`、页面解析函数`parse_item()`。如果你想修改此爬虫，应该也会从这两部分入手。

关于`start_urls`,由于`sge.com.cn`每个工作日都会更新黄金价格，所以`start_urls`也是需要随时间更新的，现在如果总页面书
大于249，你只要修改249即可。

对于getGPspider的`parse_item()`，它使用了两种选择器来解析下载的页面，lxml和bs4。lxml比较快捷，bs4比较方便但费时。
所以一般我先用lxml来解析，如果出错了才使用bs4。

#### 总结
爬取黄金价格的困难点主要在于其表格格式的不同。尽管chrome的调试器可以非常方便地获取目标xpath，但是不同表格xpath差异的
存在使得不可能用一个xpath来爬取所有的页面。需要爬取出数据后洗涤，排除空格换行符等空白字符，这是个繁杂的过程。对繁杂的
页面我最后选择使用bs4来解析，效果显著。
